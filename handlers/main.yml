---
# handlers file for ansible-role-gunicorn
- name: Systemd daemon reload
  systemd:
    daemon_reload: "{{ gunicorn_service_daemon_reload }}"
  listen: systemctl daemon-reload
  when:
    - "ansible_service_mgr == 'systemd'"
    - "gunicorn_service_daemon_reload"

- name: Restart the service
  service:
    name: "{{ gunicorn_service_name }}"
    state: "{{ gunicorn_service_restarted_state }}"
  listen: restart service
  when:
    - "gunicorn_service_restarted_state is not none"
